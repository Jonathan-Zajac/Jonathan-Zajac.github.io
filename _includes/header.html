<style>
    /* Background stretch and overlay setup */
    header {
        position: relative;
        width: 100%;
        text-align: center;
        color: rgb(255, 255, 255);
        overflow: hidden;
    }

    header::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%; /* fills the header's height */
        background-image: url('img/header.jpg');
        background-size: cover;
        background-position: center;
        z-index: -1;
    }

    .header-content {
        position: relative;
        width: 100%;
        min-height: calc(100px + /* overlay-box height */ 1px); /* optional if you want to ensure it fills */
    }

    .header-content-inner h1 {
    font-size: clamp(28px, 5vw, 34px);
    }   

    .overlay-box {
        background: rgba(0, 0, 0, 0.55); /* semi-transparent black */
        padding: 20px;
        border-radius: 9px;
    }

    .overlay-box p,
    .overlay-box h1,
    .overlay-box a {
        color: white !important;
    }

    .overlay-box .btn-primary {
        background-color: #641d1d;
        border-color: #331414;
    }

    /* Flex layout for portrait and text */
    .intro-flex .row {
        display: flex;
        align-items: center;
        flex-wrap: wrap; /* keeps responsive on small screens */
    }

    .intro-flex .col-sm-3 img {
        width: 100%;
        height: auto;
        border-radius: 100%;
    }

    /* Optional: responsive text */
    .intro-flex .col-sm-9 p {
        margin-bottom: 20px;
    }

    /* CV Overlay background */
    #cvOverlay {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.65);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999;

        opacity: 0;
        pointer-events: none;
        transition: opacity 0.35s ease;
    }

    /* Active state */
    #cvOverlay.active {
        opacity: 1;
        pointer-events: auto;
    }

    /* CV panel */
    .cv-panel {
        background: #fff;
        width: min(900px, 92vw);
        height: min(85vh, 900px);
        border-radius: 12px;
        display: flex;
        flex-direction: column;

        transform: translateY(40px) scale(0.97);
        transition: transform 0.35s ease;
    }

    #cvOverlay.active .cv-panel {
        transform: translateY(0) scale(1);
    }

    /* Header */
    .cv-header {
        padding: 12px 16px;
        background: #641d1d;
        color: white;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-weight: 600;
    }

    .cv-header button {
        background: none;
        border: none;
        color: white;
        font-size: 28px;
        line-height: 1;
        cursor: pointer;
    }

    /* Body */
    .cv-body {
        flex: 1;
        overflow: hidden;
    }

    .cv-body iframe {
        width: 100%;
        height: 100%;
        border: none;
    }

    /* Footer */
    .cv-footer {
        padding: 10px 16px;
        text-align: right;
        border-top: 1px solid #ddd;
    }

</style>

<header>
    <div class="header-content">
        <div class="header-content-inner intro-flex">
            <h1">Computational Biophysics & Molecular Design</h1>
            <hr>

            <div class="overlay-box">
                <div class="row">
                    <div class="col-sm-3">
                        <img src="img/portrait3.jpg" alt="Jonathan Zajac portrait">
                    </div>

                    <div class="col-sm-9">
                        <p>Hi there! I'm Jonathan. I am a computational molecular scientist interested in the structure, function, 
                            and dynamics of biomolecular systems. I'm an enthusiast of observing proteins wiggle and jiggle, using 
                            molecular simulations to understand the physical principles underlying biological systems. I develop and 
                            leverage methods combining statistical mechanics, thermodynamics, machine learning, and enhanced sampling
                            to investigate complex systems.
                        </p>

                        <p>Currently, I am a 5th year Ph.D. candidate in the Department of Chemistry at the University of Minnesota,
                            advised by Professor Sapna Sarupria. My research focuses on developing and applying computational methods
                            to study protein-solvent interactions towards the design of stable biological formulations.
                        </p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12 text-center">
                        <button id="cvBtn" class="btn btn-primary btn-xl">
                            View CV
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- CV Overlay -->
<div id="cvOverlay">
    <div class="cv-panel">
        <div class="cv-header">
            <span>Curriculum Vitae</span>
            <button id="closeCv">&times;</button>
        </div>

        <div class="cv-body">
            <iframe
                src="files/Jonathan_Zajac_CV.pdf"
                title="Jonathan Zajac CV">
            </iframe>
        </div>

        <div class="cv-footer">
            <a href="files/Jonathan_Zajac_CV.pdf" download class="btn btn-primary">
                Download CV
            </a>
            <button id="closeCvBottom" class="btn btn-default">
                Close
            </button>
        </div>
    </div>
</div>

<script>
    const cvOverlay = document.getElementById("cvOverlay");
    const cvBtn = document.getElementById("cvBtn");
    const closeBtns = [
        document.getElementById("closeCv"),
        document.getElementById("closeCvBottom")
    ];

    cvBtn.addEventListener("click", () => {
        cvOverlay.classList.add("active");
        document.body.style.overflow = "hidden";
    });

    closeBtns.forEach(btn =>
        btn.addEventListener("click", () => {
            cvOverlay.classList.remove("active");
            document.body.style.overflow = "";
        })
    );

    // Close when clicking outside panel
    cvOverlay.addEventListener("click", e => {
        if (e.target === cvOverlay) {
            cvOverlay.classList.remove("active");
            document.body.style.overflow = "";
        }
    });
</script>